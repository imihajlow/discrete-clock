Version 4
SHEET 1 1304 680
WIRE 480 -160 368 -160
WIRE 560 -160 480 -160
WIRE 320 -80 112 -80
WIRE 784 32 592 32
WIRE 480 112 480 -160
WIRE 544 112 480 112
WIRE 208 240 208 112
WIRE 208 240 -112 240
WIRE 272 240 208 240
WIRE 400 240 336 240
WIRE 448 240 400 240
WIRE -112 256 -112 240
WIRE 208 288 208 240
WIRE 400 288 400 240
WIRE 208 400 208 352
WIRE 272 400 208 400
WIRE 400 400 400 352
WIRE 400 400 336 400
WIRE -112 448 -112 336
WIRE 112 448 112 -80
WIRE 112 448 -112 448
WIRE 400 448 400 400
WIRE 400 448 112 448
WIRE 208 496 208 400
WIRE 272 496 208 496
WIRE 208 576 208 496
WIRE 240 576 208 576
FLAG 448 240 0
FLAG 336 496 0
FLAG 320 576 0
FLAG -144 -112 0
FLAG -144 -192 COM
FLAG 368 -240 COM
FLAG 368 -64 0
FLAG 592 -48 COM
FLAG 592 128 0
SYMBOL diode 192 288 R0
SYMATTR InstName D1
SYMATTR Value 1N4148
SYMBOL diode 384 288 R0
SYMATTR InstName D2
SYMATTR Value 1N4148
SYMBOL diode 336 224 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D3
SYMATTR Value 1N4148
SYMBOL diode 336 384 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D4
SYMATTR Value 1N4148
SYMBOL cap 336 480 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value 1000µ
SYMBOL res 336 560 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 10
SYMBOL voltage -144 -208 R0
SYMATTR InstName V1
SYMATTR Value 5
SYMBOL voltage -112 240 R0
SYMATTR InstName V2
SYMATTR Value SINE(0 6 50)
SYMBOL nmos 320 -160 R0
SYMATTR InstName M1
SYMATTR Value 2N7002
SYMBOL res 352 -256 R0
SYMATTR InstName R2
SYMATTR Value 20k
SYMBOL nmos 544 32 R0
SYMATTR InstName M2
SYMATTR Value 2N7002
SYMBOL res 576 -64 R0
SYMATTR InstName R3
SYMATTR Value 20k
TEXT 1208 -184 Left 2 !.tran 0 1
